{% load static %}
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #2c3e50;">
    <div class="container">
        <!-- Logo - Centered on Desktop -->
        <div class="w-100 text-center py-2 d-none d-lg-block">
            <a class="navbar-brand mx-auto" href="{% url 'site_home_page' %}">
                <img src="{% static 'images/logo.png' %}" alt="ParcelMyBox Logo" height="60" style="max-width: 300px; width: auto; height: auto; max-height: 60px;">
            </a>
        </div>
        
        <!-- Mobile Logo (smaller, left-aligned) -->
        <a class="navbar-brand d-lg-none" href="{% url 'site_home_page' %}">
            <img src="{% static 'images/logo.png' %}" alt="ParcelMyBox Logo" height="40" style="max-height: 40px; width: auto;">
        </a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item me-2">
                    <a class="nav-link {% if request.resolver_match.url_name == 'site_home_page' %}active fw-bold{% endif %}" 
                       href="{% url 'site_home_page' %}">
                        <i class="fas fa-home me-1"></i> Home
                    </a>
                </li>
                <li class="nav-item me-2">
                    <a class="nav-link {% if 'admin' in request.path %}active fw-bold{% endif %}" 
                       href="{% url 'admin:index' %}">
                        <i class="fas fa-tachometer-alt me-1"></i> Admin
                    </a>
                </li>
                <li class="nav-item dropdown me-2">
                    <a class="nav-link dropdown-toggle" href="#" id="shippingDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-shipping-fast me-1"></i> Shipping
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="shippingDropdown">
                        <li><a class="dropdown-item" href="{% url 'shipping:tracking_input_page' %}"><i class="fas fa-map-marker-alt me-2"></i>Tracking</a></li>
                        <li><a class="dropdown-item" href="/shipping-price/"><i class="fas fa-tag me-2"></i>Pricing</a></li>
                        <li><a class="dropdown-item" href="/shipping/bills/"><i class="fas fa-file-invoice-dollar me-2"></i>Billing</a></li>
                    </ul>
                </li>
                <li class="nav-item me-2">
                    <a class="nav-link" href="{% url 'shipping:shipping_home' %}">
                        <i class="fas fa-list-ul me-1"></i> Shipments
                    </a>
                </li>
                <li class="nav-item me-2">
                    <a class="nav-link" href="{% url 'shipping:create_shipment' %}">
                        <i class="fas fa-plus-circle me-1"></i> New Shipment
                    </a>
                </li>
                <li class="nav-item me-2">
                    <a class="nav-link" href="{% url 'shipping:manage_addresses' %}">
                        <i class="bi bi-geo-alt me-1"></i> Address Book
                    </a>
                </li>
            </ul>
            
            <!-- User Authentication Links -->
            <ul class="navbar-nav ms-auto">
                {% if user.is_authenticated %}
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" 
                           data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-user-circle me-1"></i> {{ user.get_username }}
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="{% url 'admin:index' %}">
                                <i class="fas fa-user me-2"></i>Admin Dashboard
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{% url 'account_logout' %}">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a></li>
                        </ul>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'account_login' %}">
                            <i class="fas fa-sign-in-alt me-1"></i> Login
                        </a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
